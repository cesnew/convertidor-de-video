{
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\cesar\\\\Desktop\\\\ProgCon\\\\video\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\cesar\\\\Desktop\\\\ProgCon\\\\video\",\"filename\":\"C:\\\\Users\\\\cesar\\\\Desktop\\\\ProgCon\\\\video\\\\app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\cesar\\\\Desktop\\\\ProgCon\\\\video\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\cesar\\Desktop\\ProgCon\\video\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\cesar\\Desktop\\ProgCon\\video",
      "filename": "C:\\Users\\cesar\\Desktop\\ProgCon\\video\\app.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\cesar\\Desktop\\ProgCon\\video",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\cesar\\Desktop\\ProgCon\\video\\app.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\cesar\\Desktop\\ProgCon\\video\\app.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\cesar\\Desktop\\ProgCon\\video\\",
        "sourceFileName": "app.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar bodyParser = _interopRequireWildcard(require(\"body-parser\"));\n\nvar path = _interopRequireWildcard(require(\"path\"));\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _worker_threads = require(\"worker_threads\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire('dotenv').config();\n\nconst storage = _multer.default.diskStorage({\n  destination: './uploads/',\n  filename: function (req, file, cb) {\n    cb(null, file.filename + '-' + Date.now() + path.extname(file.originalname));\n  }\n});\n\nconst upload = (0, _multer.default)({\n  dest: 'uploads',\n  storage: storage\n});\nconst app = new _express.default();\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({\n  extended: false\n})); // Referencia a las views\n\napp.set(\"views\", path.join(__dirname, \"views\"));\napp.set(\"view engine\", \"hbs\");\napp.get(\"/\", (req, res) => {\n  res.render(\"index\");\n}); // Ruta para subir el video original\n\napp.post(\"/upload-video\", upload.single(\"ssvideo\"), (req, res) => {\n  if (_worker_threads.isMainThread) {\n    let thread = new _worker_threads.Worker(\"./threads/worker.js\", {\n      workerData: {\n        file: req.file.path,\n        filename: req.file.filename\n      }\n    }); //main actions\n\n    thread.on(\"message\", data => {\n      res.download(data.file, req.file.filename);\n    });\n    thread.on(\"error\", err => {\n      console.log(\"Error en el thread\", err);\n    });\n    thread.on(\"exit\", code => {\n      if (code != 0) {\n        console(`El hilo se detuvo en el codigo de salida: ${code}`);\n      }\n    });\n  }\n});\nconst PORT = 3000;\napp.listen(PORT, () => {\n  console.log(`El servidor inicio por el puerto ${PORT}`);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwic3RvcmFnZSIsIm11bHRlciIsImRpc2tTdG9yYWdlIiwiZGVzdGluYXRpb24iLCJmaWxlbmFtZSIsInJlcSIsImZpbGUiLCJjYiIsIkRhdGUiLCJub3ciLCJwYXRoIiwiZXh0bmFtZSIsIm9yaWdpbmFsbmFtZSIsInVwbG9hZCIsImRlc3QiLCJhcHAiLCJleHByZXNzIiwidXNlIiwiYm9keVBhcnNlciIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJzZXQiLCJqb2luIiwiX19kaXJuYW1lIiwiZ2V0IiwicmVzIiwicmVuZGVyIiwicG9zdCIsInNpbmdsZSIsImlzTWFpblRocmVhZCIsInRocmVhZCIsIldvcmtlciIsIndvcmtlckRhdGEiLCJvbiIsImRhdGEiLCJkb3dubG9hZCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJjb2RlIiwiUE9SVCIsImxpc3RlbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7QUFFQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEI7O0FBRUEsTUFBTUMsT0FBTyxHQUFHQyxnQkFBT0MsV0FBUCxDQUFtQjtBQUMvQkMsRUFBQUEsV0FBVyxFQUFFLFlBRGtCO0FBRS9CQyxFQUFBQSxRQUFRLEVBQUUsVUFBU0MsR0FBVCxFQUFjQyxJQUFkLEVBQW9CQyxFQUFwQixFQUF3QjtBQUM5QkEsSUFBQUEsRUFBRSxDQUFDLElBQUQsRUFBT0QsSUFBSSxDQUFDRixRQUFMLEdBQWdCLEdBQWhCLEdBQXNCSSxJQUFJLENBQUNDLEdBQUwsRUFBdEIsR0FBbUNDLElBQUksQ0FBQ0MsT0FBTCxDQUFhTCxJQUFJLENBQUNNLFlBQWxCLENBQTFDLENBQUY7QUFDSDtBQUo4QixDQUFuQixDQUFoQjs7QUFPQSxNQUFNQyxNQUFNLEdBQUcscUJBQU87QUFBRUMsRUFBQUEsSUFBSSxFQUFFLFNBQVI7QUFBbUJkLEVBQUFBLE9BQU8sRUFBRUE7QUFBNUIsQ0FBUCxDQUFmO0FBRUEsTUFBTWUsR0FBRyxHQUFHLElBQUlDLGdCQUFKLEVBQVo7QUFDQUQsR0FBRyxDQUFDRSxHQUFKLENBQVFDLFVBQVUsQ0FBQ0MsSUFBWCxFQUFSO0FBQ0FKLEdBQUcsQ0FBQ0UsR0FBSixDQUFRQyxVQUFVLENBQUNFLFVBQVgsQ0FBc0I7QUFBRUMsRUFBQUEsUUFBUSxFQUFFO0FBQVosQ0FBdEIsQ0FBUixFLENBR0E7O0FBRUFOLEdBQUcsQ0FBQ08sR0FBSixDQUFRLE9BQVIsRUFBaUJaLElBQUksQ0FBQ2EsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLE9BQXJCLENBQWpCO0FBQ0FULEdBQUcsQ0FBQ08sR0FBSixDQUFRLGFBQVIsRUFBdUIsS0FBdkI7QUFFQVAsR0FBRyxDQUFDVSxHQUFKLENBQVEsR0FBUixFQUFhLENBQUNwQixHQUFELEVBQU1xQixHQUFOLEtBQWM7QUFDdkJBLEVBQUFBLEdBQUcsQ0FBQ0MsTUFBSixDQUFXLE9BQVg7QUFDSCxDQUZELEUsQ0FJQTs7QUFFQVosR0FBRyxDQUFDYSxJQUFKLENBQVMsZUFBVCxFQUEwQmYsTUFBTSxDQUFDZ0IsTUFBUCxDQUFjLFNBQWQsQ0FBMUIsRUFBb0QsQ0FBQ3hCLEdBQUQsRUFBTXFCLEdBQU4sS0FBYztBQUM5RCxNQUFJSSw0QkFBSixFQUFrQjtBQUVkLFFBQUlDLE1BQU0sR0FBRyxJQUFJQyxzQkFBSixDQUFXLHFCQUFYLEVBQWtDO0FBQzNDQyxNQUFBQSxVQUFVLEVBQUU7QUFDUjNCLFFBQUFBLElBQUksRUFBRUQsR0FBRyxDQUFDQyxJQUFKLENBQVNJLElBRFA7QUFFUk4sUUFBQUEsUUFBUSxFQUFFQyxHQUFHLENBQUNDLElBQUosQ0FBU0Y7QUFGWDtBQUQrQixLQUFsQyxDQUFiLENBRmMsQ0FXZDs7QUFDQTJCLElBQUFBLE1BQU0sQ0FBQ0csRUFBUCxDQUFVLFNBQVYsRUFBc0JDLElBQUQsSUFBVTtBQUMzQlQsTUFBQUEsR0FBRyxDQUFDVSxRQUFKLENBQWFELElBQUksQ0FBQzdCLElBQWxCLEVBQXdCRCxHQUFHLENBQUNDLElBQUosQ0FBU0YsUUFBakM7QUFDSCxLQUZEO0FBSUEyQixJQUFBQSxNQUFNLENBQUNHLEVBQVAsQ0FBVSxPQUFWLEVBQW9CRyxHQUFELElBQVM7QUFDeEJDLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLG9CQUFaLEVBQWtDRixHQUFsQztBQUNILEtBRkQ7QUFJQU4sSUFBQUEsTUFBTSxDQUFDRyxFQUFQLENBQVUsTUFBVixFQUFtQk0sSUFBRCxJQUFVO0FBQ3hCLFVBQUlBLElBQUksSUFBSSxDQUFaLEVBQWU7QUFDWEYsUUFBQUEsT0FBTyxDQUFFLDZDQUE0Q0UsSUFBSyxFQUFuRCxDQUFQO0FBQ0g7QUFDSixLQUpEO0FBTUg7QUFFSixDQTdCRDtBQStCQSxNQUFNQyxJQUFJLEdBQUcsSUFBYjtBQUNBMUIsR0FBRyxDQUFDMkIsTUFBSixDQUFXRCxJQUFYLEVBQWlCLE1BQU07QUFDbkJILEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLG9DQUFtQ0UsSUFBSyxFQUFyRDtBQUNILENBRkQiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxjZXNhclxcRGVza3RvcFxcUHJvZ0NvblxcdmlkZW9cXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgKiBhcyBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcclxuaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJztcclxuaW1wb3J0IG11bHRlciBmcm9tICdtdWx0ZXInO1xyXG5pbXBvcnQgeyBXb3JrZXIsIGlzTWFpblRocmVhZCwgd29ya2VyRGF0YSB9IGZyb20gJ3dvcmtlcl90aHJlYWRzJztcclxuXHJcbnJlcXVpcmUoJ2RvdGVudicpLmNvbmZpZygpO1xyXG5cclxuY29uc3Qgc3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XHJcbiAgICBkZXN0aW5hdGlvbjogJy4vdXBsb2Fkcy8nLFxyXG4gICAgZmlsZW5hbWU6IGZ1bmN0aW9uKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgICAgICBjYihudWxsLCBmaWxlLmZpbGVuYW1lICsgJy0nICsgRGF0ZS5ub3coKSArIHBhdGguZXh0bmFtZShmaWxlLm9yaWdpbmFsbmFtZSkpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7IGRlc3Q6ICd1cGxvYWRzJywgc3RvcmFnZTogc3RvcmFnZSB9KTtcclxuXHJcbmNvbnN0IGFwcCA9IG5ldyBleHByZXNzKCk7XHJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xyXG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiBmYWxzZSB9KSk7XHJcblxyXG5cclxuLy8gUmVmZXJlbmNpYSBhIGxhcyB2aWV3c1xyXG5cclxuYXBwLnNldChcInZpZXdzXCIsIHBhdGguam9pbihfX2Rpcm5hbWUsIFwidmlld3NcIikpO1xyXG5hcHAuc2V0KFwidmlldyBlbmdpbmVcIiwgXCJoYnNcIik7XHJcblxyXG5hcHAuZ2V0KFwiL1wiLCAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5yZW5kZXIoXCJpbmRleFwiKTtcclxufSk7XHJcblxyXG4vLyBSdXRhIHBhcmEgc3ViaXIgZWwgdmlkZW8gb3JpZ2luYWxcclxuXHJcbmFwcC5wb3N0KFwiL3VwbG9hZC12aWRlb1wiLCB1cGxvYWQuc2luZ2xlKFwic3N2aWRlb1wiKSwgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBpZiAoaXNNYWluVGhyZWFkKSB7XHJcblxyXG4gICAgICAgIGxldCB0aHJlYWQgPSBuZXcgV29ya2VyKFwiLi90aHJlYWRzL3dvcmtlci5qc1wiLCB7XHJcbiAgICAgICAgICAgIHdvcmtlckRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGZpbGU6IHJlcS5maWxlLnBhdGgsXHJcbiAgICAgICAgICAgICAgICBmaWxlbmFtZTogcmVxLmZpbGUuZmlsZW5hbWVcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vbWFpbiBhY3Rpb25zXHJcbiAgICAgICAgdGhyZWFkLm9uKFwibWVzc2FnZVwiLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICByZXMuZG93bmxvYWQoZGF0YS5maWxlLCByZXEuZmlsZS5maWxlbmFtZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRocmVhZC5vbihcImVycm9yXCIsIChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciBlbiBlbCB0aHJlYWRcIiwgZXJyKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhyZWFkLm9uKFwiZXhpdFwiLCAoY29kZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY29kZSAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlKGBFbCBoaWxvIHNlIGRldHV2byBlbiBlbCBjb2RpZ28gZGUgc2FsaWRhOiAke2NvZGV9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgIH1cclxuXHJcbn0pO1xyXG5cclxuY29uc3QgUE9SVCA9IDMwMDA7XHJcbmFwcC5saXN0ZW4oUE9SVCwgKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coYEVsIHNlcnZpZG9yIGluaWNpbyBwb3IgZWwgcHVlcnRvICR7UE9SVH1gKTtcclxufSk7Il19",
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "require",
        "config",
        "storage",
        "multer",
        "diskStorage",
        "destination",
        "filename",
        "req",
        "file",
        "cb",
        "Date",
        "now",
        "path",
        "extname",
        "originalname",
        "upload",
        "dest",
        "app",
        "express",
        "use",
        "bodyParser",
        "json",
        "urlencoded",
        "extended",
        "set",
        "join",
        "__dirname",
        "get",
        "res",
        "render",
        "post",
        "single",
        "isMainThread",
        "thread",
        "Worker",
        "workerData",
        "on",
        "data",
        "download",
        "err",
        "console",
        "log",
        "code",
        "PORT",
        "listen"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;AACA;;;;;;;;AAEAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,MAAMC,OAAO,GAAGC,gBAAOC,WAAP,CAAmB;AAC/BC,EAAAA,WAAW,EAAE,YADkB;AAE/BC,EAAAA,QAAQ,EAAE,UAASC,GAAT,EAAcC,IAAd,EAAoBC,EAApB,EAAwB;AAC9BA,IAAAA,EAAE,CAAC,IAAD,EAAOD,IAAI,CAACF,QAAL,GAAgB,GAAhB,GAAsBI,IAAI,CAACC,GAAL,EAAtB,GAAmCC,IAAI,CAACC,OAAL,CAAaL,IAAI,CAACM,YAAlB,CAA1C,CAAF;AACH;AAJ8B,CAAnB,CAAhB;;AAOA,MAAMC,MAAM,GAAG,qBAAO;AAAEC,EAAAA,IAAI,EAAE,SAAR;AAAmBd,EAAAA,OAAO,EAAEA;AAA5B,CAAP,CAAf;AAEA,MAAMe,GAAG,GAAG,IAAIC,gBAAJ,EAAZ;AACAD,GAAG,CAACE,GAAJ,CAAQC,UAAU,CAACC,IAAX,EAAR;AACAJ,GAAG,CAACE,GAAJ,CAAQC,UAAU,CAACE,UAAX,CAAsB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAtB,CAAR,E,CAGA;;AAEAN,GAAG,CAACO,GAAJ,CAAQ,OAAR,EAAiBZ,IAAI,CAACa,IAAL,CAAUC,SAAV,EAAqB,OAArB,CAAjB;AACAT,GAAG,CAACO,GAAJ,CAAQ,aAAR,EAAuB,KAAvB;AAEAP,GAAG,CAACU,GAAJ,CAAQ,GAAR,EAAa,CAACpB,GAAD,EAAMqB,GAAN,KAAc;AACvBA,EAAAA,GAAG,CAACC,MAAJ,CAAW,OAAX;AACH,CAFD,E,CAIA;;AAEAZ,GAAG,CAACa,IAAJ,CAAS,eAAT,EAA0Bf,MAAM,CAACgB,MAAP,CAAc,SAAd,CAA1B,EAAoD,CAACxB,GAAD,EAAMqB,GAAN,KAAc;AAC9D,MAAII,4BAAJ,EAAkB;AAEd,QAAIC,MAAM,GAAG,IAAIC,sBAAJ,CAAW,qBAAX,EAAkC;AAC3CC,MAAAA,UAAU,EAAE;AACR3B,QAAAA,IAAI,EAAED,GAAG,CAACC,IAAJ,CAASI,IADP;AAERN,QAAAA,QAAQ,EAAEC,GAAG,CAACC,IAAJ,CAASF;AAFX;AAD+B,KAAlC,CAAb,CAFc,CAWd;;AACA2B,IAAAA,MAAM,CAACG,EAAP,CAAU,SAAV,EAAsBC,IAAD,IAAU;AAC3BT,MAAAA,GAAG,CAACU,QAAJ,CAAaD,IAAI,CAAC7B,IAAlB,EAAwBD,GAAG,CAACC,IAAJ,CAASF,QAAjC;AACH,KAFD;AAIA2B,IAAAA,MAAM,CAACG,EAAP,CAAU,OAAV,EAAoBG,GAAD,IAAS;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCF,GAAlC;AACH,KAFD;AAIAN,IAAAA,MAAM,CAACG,EAAP,CAAU,MAAV,EAAmBM,IAAD,IAAU;AACxB,UAAIA,IAAI,IAAI,CAAZ,EAAe;AACXF,QAAAA,OAAO,CAAE,6CAA4CE,IAAK,EAAnD,CAAP;AACH;AACJ,KAJD;AAMH;AAEJ,CA7BD;AA+BA,MAAMC,IAAI,GAAG,IAAb;AACA1B,GAAG,CAAC2B,MAAJ,CAAWD,IAAX,EAAiB,MAAM;AACnBH,EAAAA,OAAO,CAACC,GAAR,CAAa,oCAAmCE,IAAK,EAArD;AACH,CAFD",
      "sourceRoot": "C:\\Users\\cesar\\Desktop\\ProgCon\\video\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport * as bodyParser from 'body-parser';\r\nimport * as path from 'path';\r\nimport multer from 'multer';\r\nimport { Worker, isMainThread, workerData } from 'worker_threads';\r\n\r\nrequire('dotenv').config();\r\n\r\nconst storage = multer.diskStorage({\r\n    destination: './uploads/',\r\n    filename: function(req, file, cb) {\r\n        cb(null, file.filename + '-' + Date.now() + path.extname(file.originalname));\r\n    }\r\n});\r\n\r\nconst upload = multer({ dest: 'uploads', storage: storage });\r\n\r\nconst app = new express();\r\napp.use(bodyParser.json());\r\napp.use(bodyParser.urlencoded({ extended: false }));\r\n\r\n\r\n// Referencia a las views\r\n\r\napp.set(\"views\", path.join(__dirname, \"views\"));\r\napp.set(\"view engine\", \"hbs\");\r\n\r\napp.get(\"/\", (req, res) => {\r\n    res.render(\"index\");\r\n});\r\n\r\n// Ruta para subir el video original\r\n\r\napp.post(\"/upload-video\", upload.single(\"ssvideo\"), (req, res) => {\r\n    if (isMainThread) {\r\n\r\n        let thread = new Worker(\"./threads/worker.js\", {\r\n            workerData: {\r\n                file: req.file.path,\r\n                filename: req.file.filename\r\n            }\r\n\r\n        });\r\n\r\n\r\n        //main actions\r\n        thread.on(\"message\", (data) => {\r\n            res.download(data.file, req.file.filename);\r\n        });\r\n\r\n        thread.on(\"error\", (err) => {\r\n            console.log(\"Error en el thread\", err);\r\n        });\r\n\r\n        thread.on(\"exit\", (code) => {\r\n            if (code != 0) {\r\n                console(`El hilo se detuvo en el codigo de salida: ${code}`);\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n});\r\n\r\nconst PORT = 3000;\r\napp.listen(PORT, () => {\r\n    console.log(`El servidor inicio por el puerto ${PORT}`);\r\n});"
      ]
    },
    "sourceType": "script",
    "mtime": 1636582374569
  }
}